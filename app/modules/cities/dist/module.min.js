!function(){"use strict";function a(a){a.when("/cities",{templateUrl:"modules/cities/views/list.html",controller:"CitiesCtrl"}).when("/cities/new",{templateUrl:"modules/cities/views/new.html",controller:"CitiesCtrl"}).when("/cities/:id",{templateUrl:"modules/cities/views/details.html",controller:"CitiesCtrl"}).when("/cities/edit/:id",{templateUrl:"modules/cities/views/edit.html",controller:"CitiesCtrl"})}angular.module("contatosJS.cities",[]),angular.module("contatosJS.cities").config(a),a.$inject=["$routeProvider"]}(),function(){"use strict";function a(a,b,c,d,e){a.city=[],a.cities=[],a.loading=!0;var f=function(){d.getAll().then(function(b){a.cities=b.data._embedded.cities},function(a){console.error("Erro ao buscar cidades.")})["finally"](function(b){a.loading=!1})},g=function(){e.getAll().then(function(b){a.states=b.data._embedded.states},function(a){console.error("Erro ao buscar estados.")})},h=function(){var b=c.id;void 0!==b&&d.getById(b).then(function(b){a.city=b.data},function(a){console.error("Erro ao buscar cidade.")})};a.save=function(c){console.info("Salvando cidade...");var e={id:null,name:c.name,capital:c.capital,state:c.state._links.self.href};d.save(e).then(function(c){delete a.city,console.info("Cidade Salva com Sucesso!"),f(),b.path("/cities")},function(a){console.error("Erro ao salvar Cidade.")})},a.update=function(c){var e={id:c.id,name:c.name,capital:c.capital,state:c.state._links.self.href};d.update(e).then(function(c){delete a.city,console.info("Cidade Atualizada com Sucesso!"),f(),b.path("/cities")},function(a){console.error("Erro ao atualizar Cidade.")})},a["delete"]=function(a){d.deleteById(a).then(function(a){console.info("Cidade removida com Sucesso!"),f()},function(a){console.error("Erro ao remover Cidade.")})},function(){f(),h(),g()}()}angular.module("contatosJS.cities").controller("CitiesCtrl",a),a.$inject=["$scope","$location","$routeParams","Cities","States"]}(),function(){function a(a,b){function c(){return a.get(b.baseUrl+"/cities")}function d(c){return a.get(b.baseUrl+"/cities/"+c+"?projection=fullCity")}function e(c){return a.post(b.baseUrl+"/cities",c)}function f(c){return a.post(b.baseUrl+"/cities",c)}function g(c){return a["delete"](b.baseUrl+"/cities/"+c)}var h={};return h.getAll=c,h.getById=d,h.save=e,h.update=f,h.deleteById=g,h}angular.module("contatosJS.cities").factory("Cities",a),a.$inject=["$http","config"]}();