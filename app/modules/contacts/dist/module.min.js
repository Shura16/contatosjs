!function(){"use strict";function a(a){a.when("/contacts",{templateUrl:"modules/contacts/views/list.html",controller:"ContactsCtrl"}).when("/contacts/new",{templateUrl:"modules/contacts/views/new.html",controller:"ContactsCtrl"}).when("/contacts/:id",{templateUrl:"modules/contacts/views/details.html",controller:"ContactsCtrl"}).when("/contacts/edit/:id",{templateUrl:"modules/contacts/views/edit.html",controller:"ContactsCtrl"})}angular.module("contatosJS.contacts",[]),angular.module("contatosJS.contacts").config(a),a.$inject=["$routeProvider"]}(),function(){"use strict";function a(a,b,c,d,e){a.contact=[],a.contacts=[],a.loading=!0;var f=function(){d.getAll().then(function(b){a.contacts=b.data._embedded.contacts},function(a){console.error("Erro ao buscar contatos.")})["finally"](function(b){a.loading=!1})},g=function(){e.getAll().then(function(b){a.states=b.data._embedded.states},function(a){console.error("Erro ao buscar estados.")})},h=function(){var b=c.id;void 0!==b&&d.getById(b).then(function(b){a.contact=b.data},function(a){console.error("Erro ao buscar contato.")})};a.save=function(c){console.info("Salvando contato...");var e={id:null,name:c.name,capital:c.capital,state:c.state._links.self.href};d.save(e).then(function(c){delete a.contact,console.info("Contato Salvo com Sucesso!"),f(),b.path("/contacts")},function(a){console.error("Erro ao salvar Contato.")})},a.update=function(c){var e={id:c.id,name:c.name,capital:c.capital,state:c.state._links.self.href};d.update(e).then(function(c){delete a.contact,console.info("Contato Atualizado com Sucesso!"),f(),b.path("/contacts")},function(a){console.error("Erro ao atualizar Contato.")})},a["delete"]=function(a){d.deleteById(a).then(function(a){console.info("Contato removido com Sucesso!"),f()},function(a){console.error("Erro ao remover Contato.")})},function(){f(),h(),g()}()}angular.module("contatosJS.contacts").controller("ContactsCtrl",a),a.$inject=["$scope","$location","$routeParams","Contacts","States"]}(),function(){function a(a,b){function c(){return a.get(b.baseUrl+"/contacts")}function d(c){return a.get(b.baseUrl+"/contacts/"+c+"?projection=fullContact")}function e(c){return a.post(b.baseUrl+"/contacts",c)}function f(c){return a.post(b.baseUrl+"/contacts",c)}function g(c){return a["delete"](b.baseUrl+"/contacts/"+c)}var h={};return h.getAll=c,h.getById=d,h.save=e,h.update=f,h.deleteById=g,h}angular.module("contatosJS.contacts").factory("Contacts",a),a.$inject=["$http","config"]}();