!function(){"use strict";function a(a,b){b.parentSelector="#loadingBar",a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"})}angular.module("contatosJS",["angular-loading-bar","ngRoute","ngCookies","contatosJS.controllers","contatosJS.directives","contatosJS.services","contatosJS.login","contatosJS.users","contatosJS.states","contatosJS.cities"]),angular.module("contatosJS").config(a),a.$inject=["$routeProvider","cfpLoadingBarProvider"]}(),function(){"use strict";function a(a){a.title="Contatos Web",a.description="Sistema de Contatos web usando AngularJS consumindo uma API RESTFull Spring Boot.",a.author="João Antônio Cabral"}function b(a){a.title="Contatos Web",a.description="Sistema de Contatos Web usando AngularJS."}function c(a,b){a.isActive=function(a){return a===b.path()},a.messages=[]}angular.module("contatosJS.controllers",[]),angular.module("contatosJS.controllers").controller("AboutCtrl",a).controller("HomeCtrl",b).controller("NavCtrl",c),a.$inject=["$scope"],b.$inject=["$scope"],c.$inject=["$scope","$location"]}(),function(){"use strict";function a(){return{restrict:"AE",templateUrl:"../views/alertsDirective.html",replace:!0,link:function(a,b,c){a.close=function(b){a.messages.splice(b,1)}}}}angular.module("contatosJS.directives",[]),angular.module("contatosJS.directives").directive("alerts",a)}(),function(){"use strict";angular.module("contatosJS.services",[]),angular.module("contatosJS.services").value("config",{baseUrl:"https://contatosweb.herokuapp.com/rest"})}(),!function(){"use strict";function a(a){a.when("/login",{templateUrl:"modules/login/views/login.html",controller:"LoginCtrl"}).when("/logout",{templateUrl:"modules/login/views/login.html",controller:"LoginCtrl"})}function b(a,b,c,d){a.infoMessages=[],a.errorMessages=[],a.sucessMessages=[],a.globals=c.get("globals")||{},a.globals.currentUser&&(d.defaults.headers.common.Authorization="Basic "+a.globals.currentUser.authdata),a.$on("$locationChangeStart",function(c,d,e){"/login"===b.path()||a.globals.currentUser||b.path("/login")})}angular.module("contatosJS.login",[]),angular.module("contatosJS.login").config(a).run(b),a.$inject=["$routeProvider"],b.$inject=["$rootScope","$location","$cookieStore","$http"]}(),function(){function a(a,b,c,d,e){function f(){d.clearCredentials()}a.login=function(){d.login(a.username,a.password,function(b){b.success?(d.setCredentials(b.user.login,b.user.password,b.user.name),c.path("/")):(a.messages.push({type:"alert-danger",text:b.message}),console.error(b.message))})},a.logout=function(){d.clearCredentials(),c.path("/login"),a.messages=[]},f()}angular.module("contatosJS.login").controller("LoginCtrl",a),a.$inject=["$scope","$rootScope","$location","LoginService"]}(),function(){function a(a,b,c,d){function e(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a.charCodeAt(j++),c=a.charCodeAt(j++),h=a.charCodeAt(j++),d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.keyStr.charAt(d)+this.keyStr.charAt(e)+this.keyStr.charAt(f)+this.keyStr.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g}function f(a){var b,c,d,e,f,g="",h="",i="",j=0,k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.keyStr.indexOf(a.charAt(j++)),e=this.keyStr.indexOf(a.charAt(j++)),f=this.keyStr.indexOf(a.charAt(j++)),i=this.keyStr.indexOf(a.charAt(j++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,h=(3&f)<<6|i,g+=String.fromCharCode(b),64!=f&&(g+=String.fromCharCode(c)),64!=i&&(g+=String.fromCharCode(h)),b=c=h="",d=e=f=i="";while(j<a.length);return g}function g(a,b,c){var e,f;d.getByLogin(a).then(function(a){f=a.data,e="undefined"==typeof f?{success:!1,message:"Usuário inexistente!"}:b==f.password?{success:!0,user:f}:{success:!1,message:"Usuário ou senha incorretos!"},c(e)})}function h(d,e,f){var g=j.encode(d+":"+e);c.globals={currentUser:{username:d,name:f,authdata:g},loggedIn:!0},a.defaults.headers.common.Authorization="Basic "+g,b.put("globals",c.globals)}function i(){c.globals={},b.remove("globals"),a.defaults.headers.common.Authorization="Basic"}var j={};j.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j.encode=e,j.decode=f;var k={};return k.login=g,k.setCredentials=h,k.clearCredentials=i,k}angular.module("contatosJS.login").factory("LoginService",a),a.$inject=["$http","$cookieStore","$rootScope","Users"]}(),!function(){"use strict";function a(a){a.when("/users",{templateUrl:"modules/users/views/list.html",controller:"UsersCtrl"}).when("/users/new",{templateUrl:"modules/users/views/new.html",controller:"UsersCtrl"}).when("/users/:id",{templateUrl:"modules/users/views/details.html",controller:"UsersCtrl"}).when("/users/edit/:id",{templateUrl:"modules/users/views/edit.html",controller:"UsersCtrl"})}angular.module("contatosJS.users",[]),angular.module("contatosJS.users").config(a),a.$inject=["$routeProvider"]}(),function(){function a(a,b,c,d){a.user=[],a.users=[],a.loading=!0;var e=function(){d.getAll().then(function(b){a.users=b.data._embedded.systemUsers},function(a){console.error("Erro ao buscar usuários.")})["finally"](function(b){a.loading=!1})},f=function(){var b=c.id;void 0!==b&&d.getById(b).then(function(b){a.user=b.data},function(a){console.error("Erro ao buscar usuário.")})};a.save=function(c){var f={id:null,name:c.name,initials:c.initials};d.save(f).then(function(c){delete a.user,console.info("Usuário Salvo com Sucesso!"),e(),b.path("/users")},function(a){console.error("Erro ao salvar Usuário.")})},a.update=function(c){var f={id:c.id,name:c.name,initials:c.initials};d.update(f).then(function(c){delete a.user,console.info("Usuário atualizado com Sucesso!"),e(),b.path("/users")},function(a){console.error("Erro ao atualizar Usuário.")})},a["delete"]=function(a){d.deleteById(a).then(function(a){console.info("Usuário removido com Sucesso!"),e()},function(a){console.error("Erro ao remover Usuário.")})},function(){e(),f()}()}angular.module("contatosJS.users").controller("UsersCtrl",a),a.$inject=["$scope","$location","$routeParams","Users"]}(),function(){function a(a,b){function c(){return a.get(b.baseUrl+"/systemUsers")}function d(c){return a.get(b.baseUrl+"/systemUsers/"+c)}function e(c){return a.get(b.baseUrl+"/systemUsers/search/findOneByLogin?login="+c+"&projection=fullUser")}function f(c){return a.post(b.baseUrl+"/systemUsers",c)}function g(c){return a.post(b.baseUrl+"/systemUsers",c)}function h(c){return a["delete"](b.baseUrl+"/systemUsers/"+c)}var i={};return i.getAll=c,i.getById=d,i.getByLogin=e,i.save=f,i.update=g,i.deleteById=h,i}angular.module("contatosJS.users").factory("Users",a),a.$inject=["$http","config"]}(),!function(){"use strict";function a(a){a.when("/states",{templateUrl:"modules/states/views/list.html",controller:"StatesCtrl"}).when("/states/new",{templateUrl:"modules/states/views/new.html",controller:"StatesCtrl"}).when("/states/:id",{templateUrl:"modules/states/views/details.html",controller:"StatesCtrl"}).when("/states/edit/:id",{templateUrl:"modules/states/views/edit.html",controller:"StatesCtrl"})}angular.module("contatosJS.states",[]),angular.module("contatosJS.states").config(a),a.$inject=["$routeProvider"]}(),function(){function a(a,b,c,d){a.state=[],a.states=[],a.loading=!0;var e=function(){d.getAll().then(function(b){a.states=b.data._embedded.states},function(a){console.error("Erro ao buscar estados.")})["finally"](function(b){a.loading=!1})},f=function(){var b=c.id;void 0!==b&&d.getById(b).then(function(b){a.state=b.data},function(a){console.error("Erro ao buscar estado.")})};a.save=function(c){var f={id:null,name:c.name,initials:c.initials};d.save(f).then(function(c){delete a.state,console.info("Estado Salvo com Sucesso!"),e(),b.path("/states")},function(a){console.error("Erro ao salvar Estado.")})},a.update=function(c){var f={id:c.id,name:c.name,initials:c.initials};d.update(f).then(function(c){delete a.state,console.info("Estado atualizado com Sucesso!"),e(),b.path("/states")},function(a){console.error("Erro ao atualizar Estado.")})},a["delete"]=function(a){d.deleteById(a).then(function(a){console.info("Estado removido com Sucesso!"),e()},function(a){console.error("Erro ao remover Estado.")})},function(){e(),f()}()}angular.module("contatosJS.states").controller("StatesCtrl",a),a.$inject=["$scope","$location","$routeParams","States"]}(),function(){function a(a,b){function c(){return a.get(b.baseUrl+"/states")}function d(c){return a.get(b.baseUrl+"/states/"+c)}function e(c){return a.post(b.baseUrl+"/states",c)}function f(c){return a.post(b.baseUrl+"/states",c)}function g(c){return a["delete"](b.baseUrl+"/states/"+c)}var h={};return h.getAll=c,h.getById=d,h.save=e,h.update=f,h.deleteById=g,h}angular.module("contatosJS.states").factory("States",a),a.$inject=["$http","config"]}(),!function(){"use strict";function a(a){a.when("/cities",{templateUrl:"modules/cities/views/list.html",controller:"CitiesCtrl"}).when("/cities/new",{templateUrl:"modules/cities/views/new.html",controller:"CitiesCtrl"}).when("/cities/:id",{templateUrl:"modules/cities/views/details.html",controller:"CitiesCtrl"}).when("/cities/edit/:id",{templateUrl:"modules/cities/views/edit.html",controller:"CitiesCtrl"})}angular.module("contatosJS.cities",[]),angular.module("contatosJS.cities").config(a),a.$inject=["$routeProvider"]}(),function(){"use strict";function a(a,b,c,d,e){a.city=[],a.cities=[],a.loading=!0;var f=function(){d.getAll().then(function(b){a.cities=b.data._embedded.cities},function(a){console.error("Erro ao buscar cidades.")})["finally"](function(b){a.loading=!1})},g=function(){e.getAll().then(function(b){a.states=b.data._embedded.states},function(a){console.error("Erro ao buscar estados.")})},h=function(){var b=c.id;void 0!==b&&d.getById(b).then(function(b){a.city=b.data},function(a){console.error("Erro ao buscar cidade.")})};a.save=function(c){console.info("Salvando cidade...");var e={id:null,name:c.name,capital:c.capital,state:c.state._links.self.href};d.save(e).then(function(c){delete a.city,console.info("Cidade Salva com Sucesso!"),f(),b.path("/cities")},function(a){console.error("Erro ao salvar Cidade.")})},a.update=function(c){var e={id:c.id,name:c.name,capital:c.capital,state:c.state._links.self.href};d.update(e).then(function(c){delete a.city,console.info("Cidade Atualizada com Sucesso!"),f(),b.path("/cities")},function(a){console.error("Erro ao atualizar Cidade.")})},a["delete"]=function(a){d.deleteById(a).then(function(a){console.info("Cidade removida com Sucesso!"),f()},function(a){console.error("Erro ao remover Cidade.")})},function(){f(),h(),g()}()}angular.module("contatosJS.cities").controller("CitiesCtrl",a),a.$inject=["$scope","$location","$routeParams","Cities","States"]}(),function(){function a(a,b){function c(){return a.get(b.baseUrl+"/cities")}function d(c){return a.get(b.baseUrl+"/cities/"+c+"?projection=fullCity")}function e(c){return a.post(b.baseUrl+"/cities",c)}function f(c){return a.post(b.baseUrl+"/cities",c)}function g(c){return a["delete"](b.baseUrl+"/cities/"+c)}var h={};return h.getAll=c,h.getById=d,h.save=e,h.update=f,h.deleteById=g,h}angular.module("contatosJS.cities").factory("Cities",a),a.$inject=["$http","config"]}();